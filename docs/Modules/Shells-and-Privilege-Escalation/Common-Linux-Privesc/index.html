<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Modules/Shells-and-Privilege-Escalation/Common-Linux-Privesc" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Common Linux Privesc - 常见的 Linux 特权提升方式 | TryHackMe CN Mirror</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tryhackmyoffsecbox.github.io/TryHackMe-CN/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://tryhackmyoffsecbox.github.io/TryHackMe-CN/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://tryhackmyoffsecbox.github.io/TryHackMe-CN/docs/Modules/Shells-and-Privilege-Escalation/Common-Linux-Privesc"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Common Linux Privesc - 常见的 Linux 特权提升方式 | TryHackMe CN Mirror"><meta data-rh="true" name="description" content="TryHackMe | Common Linux Privesc"><meta data-rh="true" property="og:description" content="TryHackMe | Common Linux Privesc"><link data-rh="true" rel="icon" href="/TryHackMe-CN/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://tryhackmyoffsecbox.github.io/TryHackMe-CN/docs/Modules/Shells-and-Privilege-Escalation/Common-Linux-Privesc"><link data-rh="true" rel="alternate" href="https://tryhackmyoffsecbox.github.io/TryHackMe-CN/docs/Modules/Shells-and-Privilege-Escalation/Common-Linux-Privesc" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://tryhackmyoffsecbox.github.io/TryHackMe-CN/docs/Modules/Shells-and-Privilege-Escalation/Common-Linux-Privesc" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/TryHackMe-CN/blog/rss.xml" title="TryHackMe CN Mirror RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/TryHackMe-CN/blog/atom.xml" title="TryHackMe CN Mirror Atom Feed"><link rel="stylesheet" href="/TryHackMe-CN/assets/css/styles.351040f8.css">
<script src="/TryHackMe-CN/assets/js/runtime~main.b19afc47.js" defer="defer"></script>
<script src="/TryHackMe-CN/assets/js/main.b8ab613b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/TryHackMe-CN/"><div class="navbar__logo"><img src="/TryHackMe-CN/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/TryHackMe-CN/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Tryhackme CN Mirror</b></a><a class="navbar__item navbar__link" href="/TryHackMe-CN/docs/LearningPaths/">Learning Paths</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/TryHackMe-CN/docs/Modules/">Modules</a><a class="navbar__item navbar__link" href="/TryHackMe-CN/docs/Networks/">Networks</a><a class="navbar__item navbar__link" href="/TryHackMe-CN/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/TryHackMe-CN/docs/Modules/">Modules - 模块</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/TryHackMe-CN/docs/Modules/Compromising-Active-Directory/">Compromising Active Directory - 妥协活动目录</a><button aria-label="展开侧边栏分类 &#x27;Compromising Active Directory - 妥协活动目录&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/TryHackMe-CN/docs/Modules/Shells-and-Privilege-Escalation/">Shells and Privilege Escalation - Shell 和特权提升</a><button aria-label="折叠侧边栏分类 &#x27;Shells and Privilege Escalation - Shell 和特权提升&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TryHackMe-CN/docs/Modules/Shells-and-Privilege-Escalation/What-the-Shell">What the Shell? - 什么是 Shell</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/TryHackMe-CN/docs/Modules/Shells-and-Privilege-Escalation/Common-Linux-Privesc">Common Linux Privesc - 常见的 Linux 特权提升方式</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/TryHackMe-CN/docs/Modules/Shells-and-Privilege-Escalation/Linux-PrivEsc">Linux PrivEsc - Linux 特权提升</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/TryHackMe-CN/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/TryHackMe-CN/docs/Modules/Shells-and-Privilege-Escalation/"><span itemprop="name">Shells and Privilege Escalation - Shell 和特权提升</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Common Linux Privesc - 常见的 Linux 特权提升方式</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Common Linux Privesc - 常见的 Linux 特权提升方式</h1>
<blockquote>
<p><a href="https://tryhackme.com/room/commonlinuxprivesc" target="_blank" rel="noopener noreferrer">TryHackMe | Common Linux Privesc</a></p>
<p>Updated in 2023-12</p>
<p>一个解释常见的 Linux 特权提升方式的教程。</p>
<p>A room explaining common Linux privilege escalation</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="get-connected---建立连接">Get Connected - 建立连接<a href="#get-connected---建立连接" class="hash-link" aria-label="Get Connected - 建立连接的直接链接" title="Get Connected - 建立连接的直接链接">​</a></h2>
<p>这个房间将探索常见的 Linux 特权提升漏洞和技术，但为了开始，我们需要先做几件事情：</p>
<ul>
<li>部署虚拟机</li>
<li>连接到 TryHackMe 的 OpenVPN 服务器（参见 <code>https://tryhackme.com/access</code> 获取帮助！）或者部署 AttackBox</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-privesc---理解特权提升">Understanding Privesc - 理解特权提升<a href="#understanding-privesc---理解特权提升" class="hash-link" aria-label="Understanding Privesc - 理解特权提升的直接链 接" title="Understanding Privesc - 理解特权提升的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="权限提升-是什么意思">“权限提升” 是什么意思<a href="#权限提升-是什么意思" class="hash-link" aria-label="“权限提升” 是什么意思的直接链接" title="“权限提升” 是什么意思的直接链接">​</a></h3>
<p>在核心层面上，特权提升通常涉及从较低权限到较高权限的转变。更技术性地说，它是利用操作系统或应用程序中的漏洞、设计缺陷或配置疏忽，以获取未经授权访问通常对用户受限的资源。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="权限提升-为什么重要">“权限提升” 为什么重要<a href="#权限提升-为什么重要" class="hash-link" aria-label="“权限提升” 为什么重要的直接链接" title="“权限提升” 为什么重要的直接链接">​</a></h3>
<p>在进行 CTF 或真实的渗透测试时，很少能够获得直接给予你管理员权限的立足点（初始访问）。特权提升至关重要，因为它能让你获得系统管理员级别的访问权限。这样做可以让你完成许多事情，包括：</p>
<ul>
<li>重置密码</li>
<li>绕过访问控制以破坏受保护的数据</li>
<li>编辑软件配置</li>
<li>启用持久性，以便稍后再次访问该机器</li>
<li>更改用户的特权</li>
<li>获得那个调皮的 root 标志 ;)</li>
</ul>
<p>以及任何其他你想要执行的管理员或超级用户命令。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="direction-of-privilege-escalation---特权提升的方向">Direction of Privilege Escalation - 特权提升的方向<a href="#direction-of-privilege-escalation---特权提升的方向" class="hash-link" aria-label="Direction of Privilege Escalation - 特权提升的方向的直接链接" title="Direction of Privilege Escalation - 特权提升的方向的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="privilege-tree---特权树">Privilege Tree - 特权树<a href="#privilege-tree---特权树" class="hash-link" aria-label="Privilege Tree - 特权树的直接链接" title="Privilege Tree - 特权树的直接链接">​</a></h3>
<div style="text-align:center"><p><img loading="lazy" alt="Privilege Tree" src="/TryHackMe-CN/assets/images/image_20231225-172535-4f67e25708a8dc63940f69d2bfb73c62.png" width="644" height="282" class="img_ev3q"></p></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="有两种主要的特权提升变种">有两种主要的特权提升变种<a href="#有两种主要的特权提升变种" class="hash-link" aria-label="有两种主要的特权提升变种的直接链接" title="有两种主要的特权提升变种的直接链接">​</a></h3>
<p>Horizontal privilege escalation - 水平特权提升：这是通过接管与你相同特权级别的不同用户来扩展你在被入侵系统上的影响力。例如，一个普通用户劫持另一个普通用户（而不是提升到超级用户）。这样可以继承该用户拥有的所有文件和访问权限。例如，利用这个方式可以访问另一个普通特权用户，假设该用户的家目录附加了 SUID 文件（稍后会详细介绍），然后利用该文件获取超级用户访问权限。【在树中水平移动】</p>
<p>Vertical privilege escalation - 垂直特权提升（特权提升）：这是试图通过已经被你入侵的现有账户获得更高特权或访问权限。对于本地特权提升攻击来说，这可能意味着劫持一个具有管理员权限或 root 权限的账户。【在树中向上移动】</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="enumeration---枚举">Enumeration - 枚举<a href="#enumeration---枚举" class="hash-link" aria-label="Enumeration - 枚举的直接链接" title="Enumeration - 枚举的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="什么是-linenum">什么是 LinEnum<a href="#什么是-linenum" class="hash-link" aria-label="什么是 LinEnum的直接链接" title="什么是 LinEnum的直接链接">​</a></h3>
<p>LinEnum 是一个简单的 bash 脚本，执行与特权提升相关的常见命令，节省时间并允许更多精力用于获取 root 权限。重要的是要理解 LinEnum 执行的命令，这样在无法使用 LinEnum 或类似脚本的情况下，你就能够手动枚举特权提升漏洞。在这个房间里，我们将解释 LinEnum 显示的内容，以及可以用来复制它的命令。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="哪里可以获取-linenum">哪里可以获取 LinEnum<a href="#哪里可以获取-linenum" class="hash-link" aria-label="哪里可以获取 LinEnum的直接链接" title="哪里可以获取 LinEnum的直接链接">​</a></h3>
<p>你可以从以下链接下载 LinEnum 的本地副本：</p>
<p><a href="https://github.com/rebootuser/LinEnum/blob/master/LinEnum.sh" target="_blank" rel="noopener noreferrer">https://github.com/rebootuser/LinEnum/blob/master/LinEnum.sh</a></p>
<p>LinEnum 值得将其保存在你记得的地方，因为 LinEnum 是一种非常宝贵的工具。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="如何在目标机器上获取-linenum">如何在目标机器上获取 LinEnum<a href="#如何在目标机器上获取-linenum" class="hash-link" aria-label="如何在目标机器上获取 LinEnum的直接链接" title="如何在目标机器上获取 LinEnum的直接链接">​</a></h3>
<p>有两种方法将 LinEnum 传输到目标机器上。</p>
<p>第一种方法是进入你保存 LinEnum 本地副本的目录，并使用 <code>python3 -m http.server 8000</code> 命令启动一个 Python web 服务器。</p>
<div style="text-align:center"><p><img loading="lazy" alt="在攻击机上启动 Python HTTP 服务" src="/TryHackMe-CN/assets/images/image_20231232-173229-77aac47e630d685983eca0b5955f139d.png" width="582" height="133" class="img_ev3q"></p></div>
<p>然后在目标机器上使用 &quot;wget&quot; 命令，指向你的本地 IP，从本地机器上获取 该文件。</p>
<div style="text-align:center"><p><img loading="lazy" alt="在目标机器上下载脚本载荷" src="/TryHackMe-CN/assets/images/image_20231233-173303-f291091f2e0ab231b5e335955bedf455.png" width="582" height="186" class="img_ev3q"></p></div>
<p>接下来使用命令 <code>chmod +x LinEnum.sh</code> 赋予该文件可执行权限。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="其他方法">其他方法<a href="#其他方法" class="hash-link" aria-label="其他方法的直接链接" title="其他方法的直接链接">​</a></h3>
<p>如果你无法传输文件，也可以（如果有足够的权限）从本地机器复制 LinEnum 的原始代码</p>
<div style="text-align:center"><p><img loading="lazy" alt="直接复制 LinEnum 源码" src="/TryHackMe-CN/assets/images/image_20231237-173712-9a9b759eea8256bf51b8d3ca7ffe9f5d.png" width="582" height="353" class="img_ev3q"></p></div>
<p>然后将其粘贴到目标机器上一个新建的文件中，可以使用 Vi 或 Nano 编辑器</p>
<div style="text-align:center"><p><img loading="lazy" alt="直接黏贴 LinEnum 源码" src="/TryHackMe-CN/assets/images/image_20231237-173748-2f462041539ecfa983843b4f3ae66905.png" width="582" height="353" class="img_ev3q"></p></div>
<p>完成后，你可以将文件保存并添加 &quot;.sh&quot; 扩展名。然后使用命令 <code>chmod +x LinEnum.sh</code> 赋予该文件可执行权限。这样你就在目标机器上创建了自己的可执行 LinEnum 脚本副本！</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="运行-linenum">运行 LinEnum<a href="#运行-linenum" class="hash-link" aria-label="运行 LinEnum的直接链接" title="运行 LinEnum的直接链接">​</a></h3>
<p>LinEnum 可以像运行任何 bash 脚本一样执行，进入 LinEnum 所在的目录，并运行命令 <code>./LinEnum.sh</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="理解-linenum-的运行结果">理解 LinEnum 的运行结果<a href="#理解-linenum-的运行结果" class="hash-link" aria-label="理解 LinEnum 的运行结果的直接链接" title="理解 LinEnum 的运行结果的直接链接">​</a></h3>
<p>LinEnum 的输出被分成不同的部分，我们将重点关注以下主要部分：</p>
<ul>
<li>Kernel（内核）：此处显示了内核信息。这台机器很可能存在一个内核漏洞可供利用。</li>
<li>我们能读 / 写敏感文件吗：下面列出了世界可写（world-writable）的文件。这些是任何经过身份验证的用户都可以读取和写入的文件。通过查看这些敏感文件的权限，我们可以看到是否存在配置错误，允许通常不能进行读写操作的用户进行写入。</li>
<li>SUID 文件：这里显示了 SUID 文件的输出。有一些有趣的项，我们肯定会作为提升权限的方式来仔细查看。SUID（Set owner User ID up on execution）是赋予文件的一种特殊类型的权限。它允许文件以所有者的身份运行。如果是 root 所有者，它就以 root 权限运行。它可以让我们提升权限。</li>
<li>Crontab 内容：下面显示了计划任务（cron jobs）。Cron 用于在特定时间安排命令。这些计划任务或任务称为 “cron jobs”。与此相关的是 crontab 命令，它创建一个包含命令和 cron 守护进程执行指令的 crontab 文件。这里有足够的信息来尝试利用 Cronjobs。</li>
</ul>
<p>此扫描还包含了许多其他有用的信息。让我们来仔细阅读一下！</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Answer the questions below</div><div class="admonitionContent_BuS1"><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Username: user3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Password: password</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>目标主机的主机名是什么？</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary> 具体操作步骤 </summary><div><div class="collapsibleContent_i85q"><p>通过架设 HTTP 服务的方式，将 LinEnum 部署到靶机上，然后运行 LinEnum</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[-] Hostname:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">polobox</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">polobox</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>查看 /etc/passwd 的输出，系统上有多少个 &quot;user[x]&quot; 用户？</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary> 具体操作步骤 </summary><div><div class="collapsibleContent_i85q"><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[-] Contents of /etc/passwd:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root:x:0:0:root:/root:/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bin:x:2:2:bin:/bin:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sys:x:3:3:sys:/dev:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sync:x:4:65534:sync:/bin:/bin/sync</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">games:x:5:60:games:/usr/games:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">man:x:6:12:man:/var/cache/man:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mail:x:8:8:mail:/var/mail:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">news:x:9:9:news:/var/spool/news:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">proxy:x:13:13:proxy:/bin:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">backup:x:34:34:backup:/var/backups:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemd-timesync:x:100:102:systemd Time Synchronization,,,:/run/systemd:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemd-network:x:101:103:systemd Network Management,,,:/run/systemd/netif:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemd-resolve:x:102:104:systemd Resolver,,,:/run/systemd/resolve:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">syslog:x:104:108::/home/syslog:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_apt:x:105:65534::/nonexistent:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">messagebus:x:106:110::/var/run/dbus:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uuidd:x:107:111::/run/uuidd:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lightdm:x:108:117:Light Display Manager:/var/lib/lightdm:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ntp:x:109:119::/home/ntp:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">avahi:x:110:120:Avahi mDNS daemon,,,:/var/run/avahi-daemon:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">colord:x:111:123:colord colour management daemon,,,:/var/lib/colord:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dnsmasq:x:112:65534:dnsmasq,,,:/var/lib/misc:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hplip:x:113:7:HPLIP system user,,,:/var/run/hplip:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nm-openconnect:x:114:124:NetworkManager OpenConnect plugin,,,:/var/lib/NetworkManager:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nm-openvpn:x:115:125:NetworkManager OpenVPN,,,:/var/lib/openvpn/chroot:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pulse:x:116:126:PulseAudio daemon,,,:/var/run/pulse:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rtkit:x:117:128:RealtimeKit,,,:/proc:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">saned:x:118:129::/var/lib/saned:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">usbmux:x:119:46:usbmux daemon,,,:/var/lib/usbmux:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">geoclue:x:103:105::/var/lib/geoclue:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vboxadd:x:999:1::/var/run/vboxadd:/bin/false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user1:x:1000:1000:user1,,,:/home/user1:/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user2:x:1001:1001:user2,,,:/home/user2:/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user3:x:1002:1002:user3,,,:/home/user3:/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user4:x:1003:1003:user4,,,:/home/user4:/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">statd:x:120:65534::/var/lib/nfs:/usr/sbin/nologin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user5:x:1004:1004:user5,,,:/home/user5:/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user6:x:1005:1005:user6,,,:/home/user6:/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql:x:121:131:MySQL Server,,,:/var/mysql:/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user7:x:1006:0:user7,,,:/home/user7:/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">user8:x:1007:1007:user8,,,:/home/user8:/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sshd:x:122:65534::/run/sshd:/usr/sbin/nologin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>系统上有多少个可用的 shell？</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary> 具体操作步骤 </summary><div><div class="collapsibleContent_i85q"><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[-] Available shells:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># /etc/shells: valid login shells</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/bin/sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/bin/dash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/bin/rbash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>每隔 5 分钟由 cron 设置运行的 bash 脚本名称是什么？</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary> 具体操作步骤 </summary><div><div class="collapsibleContent_i85q"><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[-] Crontab contents:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># /etc/crontab: system-wide crontab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Unlike any other crontab you don&#x27;t have to run the `crontab&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># command to install the new version when you edit this file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># and files in /etc/cron.d. These files also have username fields,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># that none of the other crontabs do.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SHELL=/bin/sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># m h dom mon dow user  command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/5  *    * * * root    /home/user4/Desktop/autoscript.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">17 *    * * *   root    cd / &amp;&amp; run-parts --report /etc/cron.hourly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">25 6    * * *   root    test -x /usr/sbin/anacron || (cd / &amp;&amp; run-parts --report /etc/cron.daily)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">47 6    * * 7   root    test -x /usr/sbin/anacron || (cd / &amp;&amp; run-parts --report /etc/cron.weekly)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">52 6    1 * *   root    test -x /usr/sbin/anacron || (cd / &amp;&amp; run-parts --report /etc/cron.monthly)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">autoscript.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>哪个关键文件的权限已更改，允许某些用户对其进行写入？</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary> 具体操作步骤 </summary><div><div class="collapsibleContent_i85q"><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[-] Can we read/write sensitive files:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-rw-r-- 1 root root 2694 Mar  6  2020 /etc/passwd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root 1087 Jun  5  2019 /etc/group</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root 581 Apr 22  2016 /etc/profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r----- 1 root shadow 2359 Mar  6  2020 /etc/shadow</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/etc/passwd</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="abusing-suidguid-files---滥用-suidguid-文件">Abusing SUID/GUID Files - 滥用 SUID/GUID 文件<a href="#abusing-suidguid-files---滥用-suidguid-文件" class="hash-link" aria-label="Abusing SUID/GUID Files - 滥用 SUID/GUID 文件的直接链接" title="Abusing SUID/GUID Files - 滥用 SUID/GUID 文件的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="寻找和利用-suid-文件">寻找和利用 SUID 文件<a href="#寻找和利用-suid-文件" class="hash-link" aria-label="寻找和利用 SUID 文件的直接链接" title="寻找和利用 SUID 文件的直接链接">​</a></h3>
<p>在 Linux 特权提升利用中的第一步是检查具有 SUID/GUID 位设置的文件。这意味着这些文件可以以文件所有者 / 组的权限运行。在这种情况  下，就是超级用户的权限。我们可以利用这一点获取具备这些特权的 shell！</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="什么是-suid-二进制文件">什么是 SUID 二进制文件<a href="#什么是-suid-二进制文件" class="hash-link" aria-label="什么是 SUID 二进制文件的直接链接" title="什么是 SUID 二进制文件的直接链接">​</a></h3>
<p>众所周知，在 Linux 中一切皆文件，包括具有允许或限制三种操作权限（读 / 写 / 执行）的目录和设备。因此，当你设置文件的权限时，应该了解你允许或限制所有三种权限的 Linux 用户。看一下以下演示，展示最大权限（rwx-rwx-rwx）是如何呈现的：</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">r = read</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w = write</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x = execute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    user     group     others</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rwx       rwx       rwx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    421       421       421</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>每个用户设置权限的最大数字是 7，它是读取（4）、写入（2）和执行（1）操作的组合。例如，如果使用 &quot;chmod&quot; 设置权限为 755，那么它将是：<code>rwxr-xr-x</code></p>
<p>但是当特殊权限分配给每个用户时，它变成了 SUID 或 SGID。当额外的位 “4” 分配给用户（所有者）时，它变成了 SUID（设置用户 ID），当位 “2” 分配给组时，它变成了 SGID（设置组 ID）。</p>
<p>因此，在寻找 SUID 时要查找的权限是：</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SUID:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rws-rwx-rwx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GUID:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rwx-rws-rwx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="寻找-suid-二进制文件">寻找 SUID 二进制文件<a href="#寻找-suid-二进制文件" class="hash-link" aria-label="寻找 SUID 二进制文件的直接链接" title="寻找 SUID 二进制文件的直接链接">​</a></h3>
<p>我们已经知道系统上存在具有 SUID 能力的文件，这得益于我们的 LinEnum 扫描。然而，如果我们想要手动进行查找，可以使用命令：<code>find / -perm -u=s -type f 2&gt;/dev/null</code> 来搜索具有 SUID/GUID 权限的文件系统。让我们分解一下这个命令。</p>
<ul>
<li><code>find</code>：查找命令。</li>
<li><code>/</code>：指定查找的根目录为根目录。</li>
<li><code>-perm</code>：用于指定文件权限。</li>
<li><code>-u=s</code>：代表查找设置了 SUID 位的文件。</li>
<li><code>-type f</code>：指定查找类型为文件。</li>
<li><code>2&gt;/dev/null</code>：将错 误输出重定向到 /dev/null，这样可以隐藏权限不足的错误信息，只显示结果。</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Answer the questions below</div><div class="admonitionContent_BuS1"><p>在 user3 目录中，哪个路径的文件引起了你的注意</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/home/user3/shell</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exploiting-writeable-etcpasswd---利用可写的-etcpasswd-文件">Exploiting Writeable /etc/passwd - 利用可写的 /etc/passwd 文件<a href="#exploiting-writeable-etcpasswd---利用可写的-etcpasswd-文件" class="hash-link" aria-label="Exploiting Writeable /etc/passwd - 利用可写的 /etc/passwd 文件的直接链接" title="Exploiting Writeable /etc/passwd - 利用可写的 /etc/passwd 文件的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="利用可写的-etcpasswd">利用可写的 /etc/passwd<a href="#利用可写的-etcpasswd" class="hash-link" aria-label="利用可写的 /etc/passwd的直接链接" title="利用可写的 /etc/passwd的直接链接">​</a></h3>
<p>继续枚举用户，我们发现 user7 是 root 组的成员，组 ID 为 0。而且我们已经从 LinEnum 扫描中得知，/etc/passwd 文件对该用户是可写的。因此根据这个观察，我们得出结论：user7 可以编辑 /etc/passwd 文件。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="了解-etcpasswd">了解 /etc/passwd<a href="#了解-etcpasswd" class="hash-link" aria-label="了解 /etc/passwd的直接链接" title="了解 /etc/passwd的直接链接">​</a></h3>
<p>/etc/passwd 文件存储着在登录时所需的关键信息。换句话说，它存储着用户账户信息。/etc/passwd 是一个纯文本文件，它包含了系统账户的列表，为每个账户提供了一些有用的信息，比如用户 ID、组 ID、家目录、shell 等等。</p>
<p>/etc/passwd 文件应该具有一般的读取权限，因为许多命令工具用它来将用户 ID 映射为用户名。然而，对于 /etc/passwd 的写入权限必须仅限于超级用户 /root 账户。当这种限制没有生效，或者某个用户错误地被添加到了允许写入的组中，我们就存在一个漏洞，可以允许创建一个我们能够访问的 root 用户。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="了解-etcpasswd-的格式">了解 /etc/passwd 的格式<a href="#了解-etcpasswd-的格式" class="hash-link" aria-label="了解 /etc/passwd 的格式的直接链接" title="了解 /etc/passwd 的格式的直接链接">​</a></h3>
<p>/etc/passwd 文件每行包含一个系统用户（用户账户）的条目。所有字段都由冒号 : 符号分隔  ，共有七个字段，通常的 /etc/passwd 文件条目如下所示：</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">test:x:0:0:root:/root:/bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>[按冒号（:）分隔的字段]</p>
<p>用户名（Username）：用户登录时使用的名称。长度应在 1 到 32 个字符之间。</p>
<p>密码（Password）：x 字符表示加密密码存储在 /etc/shadow 文件中。请注意，你需要使用 passwd 命令在命令行界面计算密码的哈希值，或者在 /etc/shadow 文件中存储 / 更新密码的哈希值。在这种情况下，密码哈希值被存储为 “x”。</p>
<p>用户 ID（UID）：每个用户必须分配一个用户 ID（UID）。UID 0（零）保留给 root，UID 1-99 预留给其他预定义账户。UID 100-999 被系统保留用于管理和系统账户 / 组。</p>
<p>组 ID（GID）：主组 ID（存储在 /etc/group 文件中）。</p>
<p>用户 ID 信息（User ID Info）：注释字段。它允许你添加有关用户的额外信息，比如用户的全名、电话号码等。这个字段被 finger 命令使用。</p>
<p>家目录（Home directory）：用户登录时所在的绝对路径目录。如果这个目录不存在，用户目录将变为 / 。</p>
<p>命令 / Shell：一个命令或 shell 的绝对路径（/bin/bash）。通常，这是一个 shell。请注意，它不一定是一个 shell。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="如何利用可写的-etcpasswd">如何利用可写的 /etc/passwd<a href="#如何利用可写的-etcpasswd" class="hash-link" aria-label="如何利用可写的 /etc/passwd的直接链接" title="如何利用可写的 /etc/passwd的直接链接">​</a></h3>
<p>确实很简单，如果我们有一个可写的 /etc/passwd 文件，我们可以根据上述公式写入一个新的条目，并创建一个新的用户！我们添加我们选择的密码哈希，并将 UID、GID 和 shell 设置为 root。这样就允许我们以我们自己的 root 用户身份登录！</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Answer the questions below</div><div class="admonitionContent_BuS1"><p>读完上面的信息，这次攻击的特权升级方向是什么？</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Vertical</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="  复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在添加新用户之前，我们首先需要创建一个符合规范的密码哈希值！我们可以使用以下命令来实现：<code>openssl passwd -1 -salt [盐值] [密码]</code></p><p>使用盐值 <code>new</code> 和密码 <code>123</code> 执行这个命令生成的哈希值是什么？</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$1$new$p7ptkEKU1HnaHpRtzNizS1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>太好了！现在我们需要用这个值来创建一个新的 root 用户账户。一个拥有用户名 “new” 和之前创建的密码哈希值的 root 用户在 /etc/passwd 文件 中的条目应该是什么样的？</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">new:$1$new$p7ptkEKU1HnaHpRtzNizS1:0:0:root:/root:/bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="escaping-vi-editor----vi-编辑器逃逸">Escaping Vi Editor -  Vi 编辑器逃逸<a href="#escaping-vi-editor----vi-编辑器逃逸" class="hash-link" aria-label="Escaping Vi Editor -  Vi 编辑器逃逸的直接链接" title="Escaping Vi Editor -  Vi 编辑器逃逸的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sudo--l">sudo -l<a href="#sudo--l" class="hash-link" aria-label="sudo -l的直接链接" title="sudo -l的直接链接">​</a></h3>
<p>这个漏洞利用与我们的用户账户枚举有多有效有关。在 CTF 场景中，每当你能够访问一个账户时，你应该使用 <code>sudo -l</code> 列出你作为超级用户能够运行的命令。有时候，就像这个情况一样，你会发现可以在不需要 root 密码的情况下以 root 用户身份运行特定的命令。这可能会帮助你升级权限。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vi-逃逸">vi 逃逸<a href="#vi-逃逸" class="hash-link" aria-label="vi 逃逸的直接链接" title="vi 逃逸的直接链接">​</a></h3>
<p>在 &quot;user8&quot; 账户上运行这个命令会显示出这个用户可以以 root 权限运行 vi 编辑器。这将允许我们逃离 vim 以升级权限并获取一个 root 用户的 shell！</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置错误的可执行文件和-gtfobins">配置错误的可执行文件和 GTFOBins<a href="#配置错误的可执行文件和-gtfobins" class="hash-link" aria-label="配置错误的可执行文件和 GTFOBins的直接链接" title="配置错误的可执行文件和 GTFOBins的直接链接">​</a></h3>
<p>如果在你的枚举过程中或者当你检查一个你可以访问的用户账户能够访问哪些二进制文件时发现了一个配置错误的二进制文件，一个很好的查找如何利用它们的地方是 GTFOBins。GTFOBins 是一个经过精心筛选的 Unix 二进制文件列表，攻击者可以利用它们来绕过本地安全限制。它提供了如何利用配置错误的二进制文件的非常有用的详细信息，如果在 CTF 或渗透测试中发现了这样的文件，这是你应该首先查看的地方。</p>
<p><a href="https://gtfobins.github.io/" target="_blank" rel="noopener noreferrer">https://gtfobins.github.io/</a></p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Answer the questions below</div><div class="admonitionContent_BuS1"><p>让我们使用 “sudo -l” 命令，这个用户运行 vi 作为 root 需要（或者不需要）什么？</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">NOPASSWD</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exploiting-crontab---利用-crontab">Exploiting Crontab - 利用 Crontab<a href="#exploiting-crontab---利用-crontab" class="hash-link" aria-label="Exploiting Crontab - 利用 Crontab的直接链接" title="Exploiting Crontab - 利用 Crontab的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="什么是-cron">什么是 cron<a href="#什么是-cron" class="hash-link" aria-label="什么是 cron的直接链接" title="什么是 cron的直接链接">​</a></h3>
<p>Cron 守护进程是一个长时间运行的进程，它在特定日期和时间执行命令。你可以利用它来安排活动，无论是作为一次性事件还是周期性任务。你可以创建一个包含命令和指令的 crontab 文件，让 Cron 守护进程执行其中的内容。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="如何查看哪些-cronjobs-处于活动状态">如何查看哪些 Cronjobs 处于活动状态<a href="#如何查看哪些-cronjobs-处于活动状态" class="hash-link" aria-label="如何查看哪些 Cronjobs 处于活动状态的直接链接" title="如何查看哪些 Cronjobs 处于活动状态的直接链接">​</a></h3>
<p>我们可以使用命令 <code>cat /etc/crontab</code> 来查看已计划的 cron 任务。这是你每次有机会都应该手动检查的内容，特别是如果 LinEnum 或类似的脚本没有发现任何内容时。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cronjob-的格式">Cronjob 的格式<a href="#cronjob-的格式" class="hash-link" aria-label="Cronjob 的格式的直接链接" title="Cronjob 的格式的直接链接">​</a></h3>
<p>Cronjob 存在特定的格式，如果想要利用 cron 任务，能够读懂这个格式非常重要。</p>
<p># = ID</p>
<p>m = 分钟</p>
<p>h = 小时</p>
<p>dom = 月份中的某一天</p>
<p>mon = 月份</p>
<p>dow = 星期中的某一天</p>
<p>user = 命令将以哪个用户身份运行</p>
<p>command = 应该运行的命令</p>
<p>例如:</p>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#  m   h dom mon dow user  command</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">17 *   1  *   *   *  root  cd / &amp;&amp; run-parts --report /etc/cron.hourly</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我们从 LinEnum 扫描中得知，user4 的桌面上的文件 autoscript.sh 被安排每五分钟运行一次。它属于 root 用户，这意味着它将以 root 权限运行，尽管我们可以向该文件写入内容。任务是创建一个命令，能够返回一个 shell，并将其粘贴到这个文件中。当文件在五分钟后再次运行时，shell 将以 root 身份运行。</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Answer the questions below</div><div class="admonitionContent_BuS1"><p>指定 msfvenom 中的 payload 的标志是什么？</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-p</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>“autoscript.sh” 所在的目录是哪个？</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/home/user4/Desktop</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="exploiting-path-variable---利用-path-变量">Exploiting PATH Variable - 利用 PATH 变量<a href="#exploiting-path-variable---利用-path-变量" class="hash-link" aria-label="Exploiting PATH Variable - 利用 PATH 变量的直接链接" title="Exploiting PATH Variable - 利用 PATH 变量的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="什么是-path">什么是 PATH<a href="#什么是-path" class="hash-link" aria-label="什么是 PATH的直接链接" title="什么是 PATH的直接链接">​</a></h3>
<p>PATH 是 Linux 和类 Unix 操作系统中的一个 环境变量，它指定了存放可执行程序的目录。当用户在终端中运行任何命令时，系统会根据 PATH 变量搜索可执行文件以响应用户执行的命令。</p>
<p>使用命令 <code>echo $PATH</code> 非常简单地可以查看相关用户的路径。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="这如何让我们提升特权">这如何让我们提升特权<a href="#这如何让我们提升特权" class="hash-link" aria-label="这如何让我们提升特权的直接链接" title="这如何让我们提升特权的直接链接">​</a></h3>
<p>如果我们有一个 SUID 二进制文件。运行它，我们可以看到它调用系统 shell 执行像 <code>ps</code> 这样的基本进程。与我们之前的 SUID 示例不同，在这种情况下，我们无法通过提供命令注入的参数来利用它，那么我们可以做什么来尝试利用这个漏洞呢？</p>
<p>我们可以重写 PATH 变量为我们选择的位置！这样，当 SUID 二进制文件调用系统 shell 运行可执行文件时，它会运行我们编写的可执行文件！</p>
<p>和任何 SUID 文件一样，它将以拥有 SUID 文件所有者相同的特权级别运行此命令！如果这是 root 权限，使用这种方法，我们可以以 root 权限运行任何我们想要的命令！</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Answer the questions below</div><div class="admonitionContent_BuS1"><p>让我们进入 user5 的家目录，并运行文件 <code>script</code> 。我们认为它正在执行什么命令？</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ls</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>现在我们在 tmp 目录内，让我们创建一个模拟可执行文件。我们想要做的格式是：</p><p><code>echo &quot;[我们想要运行的任何命令]&quot; &gt; [我们要模拟的可执行文件的名称]</code></p><p>要打开一个 bash shell，并将其写入到以我们要模拟的可执行文件名称命名的文件中，命令会是这样的：</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;/bin/bash&quot; &gt; ls</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>太好了！现在我们已经创建了模拟文件，需要将其设为可执行文件。要执行这个命令，可以使用以下指令：</p><div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">chmod +x ls</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="expanding-your-knowledge---扩展你的知识">Expanding Your Knowledge - 扩展你的知识<a href="#expanding-your-knowledge---扩展你的知识" class="hash-link" aria-label="Expanding Your Knowledge - 扩展你的知识的直接链接" title="Expanding Your Knowledge - 扩展你的知识的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="进一步学习">进一步学习<a href="#进一步学习" class="hash-link" aria-label="进一步学习的直接链接" title="进一步学习的直接链接">​</a></h3>
<p>在 Linux 特权升级这个广阔的领域中，从来都没有所谓的 “魔法” 答案。这只是一些在尝试升级权限时需要注意的基本事项。变得更加熟练的唯一方法是不断实践和积累经验。清单是确保在枚举阶段没有遗漏任何内容的好方法，同时也为你提供了一个资源，在忘记具体使用哪些命令时进行查阅。</p>
<p>以下是一些适用于 CTF 或渗透测试用例的良好清单。尽管我鼓励你使用 CherryTree 或者你喜欢的任何笔记应用来制作自己的清单。</p>
<ul>
<li><a href="https://github.com/netbiosX/Checklists/blob/master/Linux-Privilege-Escalation.md" target="_blank" rel="noopener noreferrer">https://github.com/netbiosX/Checklists/blob/master/Linux-Privilege-Escalation.md</a></li>
<li><a href="https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Linux%20-%20Privilege%20Escalation.md" target="_blank" rel="noopener noreferrer">https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology and Resources/Linux - Privilege Escalation.md</a></li>
<li><a href="https://sushant747.gitbooks.io/total-oscp-guide/privilege_escalation_-_linux.html" target="_blank" rel="noopener noreferrer">https://sushant747.gitbooks.io/total-oscp-guide/privilege_escalation_-_linux.html</a></li>
<li><a href="https://payatu.com/guide-linux-privilege-escalation" target="_blank" rel="noopener noreferrer">https://payatu.com/guide-linux-privilege-escalation</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/CTF-Archives/Tryhackme-CN/edit/main/docs/Modules/Shells-and-Privilege-Escalation/Common-Linux-Privesc.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/TryHackMe-CN/docs/Modules/Shells-and-Privilege-Escalation/What-the-Shell"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">What the Shell? - 什么是 Shell</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/TryHackMe-CN/docs/Modules/Shells-and-Privilege-Escalation/Linux-PrivEsc"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Linux PrivEsc - Linux 特权提升</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#get-connected---建立连接" class="table-of-contents__link toc-highlight">Get Connected - 建立连接</a></li><li><a href="#understanding-privesc---理解特权提升" class="table-of-contents__link toc-highlight">Understanding Privesc - 理解特权提升</a><ul><li><a href="#权限提升-是什么意思" class="table-of-contents__link toc-highlight">“权限提升” 是什么意思</a></li><li><a href="#权限提升-为什么重要" class="table-of-contents__link toc-highlight">“权限提升” 为什么重要</a></li></ul></li><li><a href="#direction-of-privilege-escalation---特权提升的方向" class="table-of-contents__link toc-highlight">Direction of Privilege Escalation - 特权提升的方向</a><ul><li><a href="#privilege-tree---特权树" class="table-of-contents__link toc-highlight">Privilege Tree - 特权树</a></li><li><a href="#有两种主要的特权提升变种" class="table-of-contents__link toc-highlight">有两种主要的特权提升变种</a></li></ul></li><li><a href="#enumeration---枚举" class="table-of-contents__link toc-highlight">Enumeration - 枚举</a><ul><li><a href="#什么是-linenum" class="table-of-contents__link toc-highlight">什么是 LinEnum</a></li><li><a href="#哪里可以获取-linenum" class="table-of-contents__link toc-highlight">哪里可以获取 LinEnum</a></li><li><a href="#如何在目标机器上获取-linenum" class="table-of-contents__link toc-highlight">如何在目标机器上获取 LinEnum</a></li><li><a href="#其他方法" class="table-of-contents__link toc-highlight">其他方法</a></li><li><a href="#运行-linenum" class="table-of-contents__link toc-highlight">运行 LinEnum</a></li><li><a href="#理解-linenum-的运行结果" class="table-of-contents__link toc-highlight">理解 LinEnum 的运行结果</a></li></ul></li><li><a href="#abusing-suidguid-files---滥用-suidguid-文件" class="table-of-contents__link toc-highlight">Abusing SUID/GUID Files - 滥用 SUID/GUID 文件</a><ul><li><a href="#寻找和利用-suid-文件" class="table-of-contents__link toc-highlight">寻找和利用 SUID 文件</a></li><li><a href="#什么是-suid-二进制文件" class="table-of-contents__link toc-highlight">什么是 SUID 二进制文件</a></li><li><a href="#寻找-suid-二进制文件" class="table-of-contents__link toc-highlight">寻找 SUID 二进制文件</a></li></ul></li><li><a href="#exploiting-writeable-etcpasswd---利用可写的-etcpasswd-文件" class="table-of-contents__link toc-highlight">Exploiting Writeable /etc/passwd - 利用可写的 /etc/passwd 文件</a><ul><li><a href="#利用可写的-etcpasswd" class="table-of-contents__link toc-highlight">利用可写的 /etc/passwd</a></li><li><a href="#了解-etcpasswd" class="table-of-contents__link toc-highlight">了解 /etc/passwd</a></li><li><a href="#了解-etcpasswd-的格式" class="table-of-contents__link toc-highlight">了解 /etc/passwd 的格式</a></li><li><a href="#如何利用可写的-etcpasswd" class="table-of-contents__link toc-highlight">如何利用可写的 /etc/passwd</a></li></ul></li><li><a href="#escaping-vi-editor----vi-编辑器逃逸" class="table-of-contents__link toc-highlight">Escaping Vi Editor -  Vi 编辑器逃逸</a><ul><li><a href="#sudo--l" class="table-of-contents__link toc-highlight">sudo -l</a></li><li><a href="#vi-逃逸" class="table-of-contents__link toc-highlight">vi 逃逸</a></li><li><a href="#配置错误的可执行文件和-gtfobins" class="table-of-contents__link toc-highlight">配置错误的可执行文件和 GTFOBins</a></li></ul></li><li><a href="#exploiting-crontab---利用-crontab" class="table-of-contents__link toc-highlight">Exploiting Crontab - 利用 Crontab</a><ul><li><a href="#什么是-cron" class="table-of-contents__link toc-highlight">什么是 cron</a></li><li><a href="#如何查看哪些-cronjobs-处于活动状态" class="table-of-contents__link toc-highlight">如何查看哪些 Cronjobs 处于活动状态</a></li><li><a href="#cronjob-的格式" class="table-of-contents__link toc-highlight">Cronjob 的格式</a></li></ul></li><li><a href="#exploiting-path-variable---利用-path-变量" class="table-of-contents__link toc-highlight">Exploiting PATH Variable - 利用 PATH 变量</a><ul><li><a href="#什么是-path" class="table-of-contents__link toc-highlight">什么是 PATH</a></li><li><a href="#这如何让我们提升特权" class="table-of-contents__link toc-highlight">这如何让我们提升特权</a></li></ul></li><li><a href="#expanding-your-knowledge---扩展你的知识" class="table-of-contents__link toc-highlight">Expanding Your Knowledge - 扩展你的知识</a><ul><li><a href="#进一步学习" class="table-of-contents__link toc-highlight">进一步学习</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Tryhackme CN Mirror Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>